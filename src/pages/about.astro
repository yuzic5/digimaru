---
// src/pages/about.astro
import { getCollection } from 'astro:content';
import Layout from '../layouts/BlogPost.astro';
import { documentToHtmlString } from '@contentful/rich-text-html-renderer';

// Contentfulの'pages'コレクションから slugが 'about' かつ 日本語 のものを取得
const allPages = await getCollection('pages');
const aboutPage = allPages.find(p => p.data.slug === 'about' && p.data.lang === 'ja');

if (!aboutPage) return Astro.redirect('/404');

const htmlContent = documentToHtmlString(aboutPage.data.body);
---

<Layout
	title={aboutPage.data.title}
	lang={aboutPage.data.lang}
    slug={aboutPage.data.slug}
	pubDate={new Date('2026-01-11')}
	heroImage={aboutPage.data.heroImage}
>
	<div set:html={htmlContent} />
</Layout>